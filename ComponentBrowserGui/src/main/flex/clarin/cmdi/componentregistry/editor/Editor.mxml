<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"
		   xmlns:browser="clarin.cmdi.componentregistry.browser.*"
		   xmlns:common="clarin.cmdi.componentregistry.common.*"
		   xmlns:editor="clarin.cmdi.componentregistry.editor.*"
		   width="100%"
		   height="100%"
		   label="Edit..."
		   creationComplete="init()"
		   implements="clarin.cmdi.componentregistry.common.components.RegistryView">

	<mx:Script source="EditorAS.as"/>

	<mx:VBox width="100%"
			 height="100%">

		<editor:EditorButtonBar width="100%"
								height="40"
								saveClick="saveSpec(true, UploadService.UPDATE)"
    							saveAsNewClick="saveSpec(true, UploadService.NEW)"
								publishClick="publishSpec()"/>
		<mx:Text id="errorMessageField"
				 text="{uploadService.message}"
				 visible='{errorMessageField.text != ""}'
				 includeInLayout='{errorMessageField.text != ""}'/>
		<mx:ProgressBar id="uploadProgress"
						label=""
						mode="manual"
						visible="false"
						includeInLayout="false"/>

		<mx:VBox width="100%"
				 height="80%">
			<editor:CMDComponentXMLEditor id="xmlEditor"
										  cmdSpec="{cmdSpec}"
										  editorChange="handleEditorChange(event)"/>
			<editor:EditorButtonBar width="100%"
									height="40"
    								saveClick="saveSpec(true, UploadService.UPDATE)"
        							saveAsNewClick="saveSpec(true, UploadService.NEW)"
									publishClick="publishSpec()"/>

			<mx:VBox styleName="borderStyles"
					 width="100%">
				<mx:Label text="Drag TESTTEST existing components onto edit canvas"/>
				<browser:BrowserOverviewList id="componentsPaletteOverview"
											 width="100%"
											 browserDataProvider="{componentsSrv.itemDescriptions}"
											 browserColumns="{browserColumns.getComponentColumns()}"
											 creationComplete="initPaletteOverview();"/>
			</mx:VBox>
		</mx:VBox>
	</mx:VBox>

</mx:Canvas>
