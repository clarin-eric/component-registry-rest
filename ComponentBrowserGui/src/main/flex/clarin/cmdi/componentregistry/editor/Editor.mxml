<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"
		   xmlns:browser="clarin.cmdi.componentregistry.browser.*"
		   xmlns:common="clarin.cmdi.componentregistry.common.*"
		   xmlns:comp="clarin.cmdi.componentregistry.common.components.*"
		   width="100%"
		   height="100%"
		   label="Editor..."
		   creationComplete="init()">

	<mx:Script source="EditorAS.as"/>

	<mx:VBox width="100%"
			 height="100%">

		<mx:HBox width="100%"
				 height="40">
			<mx:Button id="createEmptyProfileBtn"
					   label="createEmptyProfile"
					   click="createEmptyProfile()"/>
			<mx:Button id="saveBtn"
					   label="save"
					   click="saveProfile()"/>
		</mx:HBox>
    	<mx:Text id="errorMessageField"
					 text="{uploadService.message}" visible='{uploadService.message != ""}' includeInLayout='{uploadService.message != ""}' />
		<mx:ProgressBar id="uploadProgress"
							label=""
							mode="manual"
							visible="false"
							includeInLayout="false"/>

		<mx:VBox width="100%"
				 height="80%">
			<comp:CMDComponentXMLEditor id="xmlEditor"
										cmdSpec="{cmdSpec}"
										width="50%"
										toolTip="drag components from list to add..." editorChange="handleEditorChange(event)" />
			<mx:DataGrid id="dataGrid"
						 width="50%"
						 dragEnabled="true"
						 dataProvider="{componentsSrv.itemDescriptions}"
						 columns="{browserColumns.getComponentColumns()}"
						 allowMultipleSelection="true"/>

		</mx:VBox>
		<mx:HBox width="100%"
				 height="300">
			<comp:ScrollableTextArea id="infoTextArea"
									 styleName="xmlTextArea"
									 editable="false"
									 text="{cmdSpec.toXml()}"
									 width="50%"
									 height="300"/>
		</mx:HBox>
	</mx:VBox>

</mx:Canvas>
